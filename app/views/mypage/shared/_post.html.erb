<div class="card w-full bg-base-100 shadow-xl mb-5">
  <div class="card-body flex justify-center">
    <div class="flex">
      <div class="w-1/5 mr-10">
        <% if post.images.present? %>
          <% first_image = post.images.first %>
          <%= image_tag first_image.to_s %>
        <% end %>
      </div>
      <div class="flex flex-col">
        <h4 class="card-title mb-5">
          <%= link_to post.title, post_path(post) %>
        </h4>
        <p class="mb-5">
          <%= link_to post.address, post_path(post) %>
        </p>
      </div>
    </div>
    <% if current_user == post.user %>
      <div class="flex justify-end">
        <%= link_to "編集", edit_post_path(post), class: "btn mr-2" %>
        <%= button_to "削除", post_path(post), method: :delete, form: { onSubmit: "return check()" }, class: "btn" %>
      </div>
    <% end %>
  </div>
</div>

<script>
  //確認ダイアログ
  function check(){
    if(window.confirm('本当に削除しますか？')){
      return true;
    }
    else{
      window.alert('キャンセルされました');
      return false;
    }
  }
</script>